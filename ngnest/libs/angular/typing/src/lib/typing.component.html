<div class="typing-container">
  <div
    class="typing-stat"
    *ngIf="stat as s"
    [@bounceInOnEnter]
    [@bounceOutOnLeave]
  >
    <!-- Chart  -->
    <div
      style="
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
      "
    >
      <authdare-chart
        style="position: relative; min-height: 170px"
        #chartRef
        [chartConfig]="chartConfig!"
        [isFeatureStatVisible]="false"
        *ngIf="delayValue(400, true) | async"
      >
      </authdare-chart>

      <!-- Select Chart Type -->
      <authdare-form-field
        style="position: relative; width: min-content"
        appearance="outline"
        [fieldType]="'select'"
        [attributes]="chartTypeFieldOptions"
      ></authdare-form-field>
    </div>

    <authdare-table
      [isActionButtonVisible]="false"
      [isIdsVisible]="false"
      style="transform: scale(0.8); margin-bottom: 10px"
      [tableData]="[
        {
          corrects: s.corrects,
          wrongs: s.wrongs,
          'duration(s)': s.duration,
          speed: s.speed + ' WPM'
        }
      ]"
    ></authdare-table>

    <authdare-table
      [tableData]="words"
      style="transform: scale(0.8); margin-bottom: 10px"
      [isActionButtonVisible]="false"
      [isIdsVisible]="false"
      [highlightBy]="['correct', 'wrong']"
    ></authdare-table>
  </div>
  <hr />
  <div class="typing-content">
    <span
      class="word"
      *ngFor="let word of words; let i = index"
      [class.active]="currentIndex == i"
      [class.correct]="word.correct == true"
      [class.wrong]="word.wrong == true"
    >
      {{ word.value }}
    </span>
  </div>
  <hr />
  <input class="typing-area" tabindex="0" [formControl]="control" />
</div>

<button class="restart-button" mat-mini-fab (click)="restart()" color="primary">
  <mat-icon>restart_alt</mat-icon>
</button>

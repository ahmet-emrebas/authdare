<ng-container *ngIf="options$ | async as options">
  <ng-container *ngIf="options.formGroup as formGroup">
    <ng-container>
      <mat-card>
        <mat-card-header *ngIf="formHeader">
          <mat-card-title>{{ options.formTitle }}</mat-card-title>
        </mat-card-header>

        <!-- Form Content  -->
        <mat-card-content>
          <form [formGroup]="formGroup">
            <ng-container *ngFor="let attributes of options.fieldOptionsList">
              <ng-container *ngIf="attributes.control as formControl">
                <!-- Text or compatible fields -->
                <authdare-text-field
                  [appearance]="options.appearance!"
                  [attributes]="attributes"
                  *ngIf="isDependentValid(attributes.dependents!)"
                >
                </authdare-text-field>
              </ng-container>
              <!-- .... -->
            </ng-container>
          </form>
        </mat-card-content>

        <!-- Form Actions -->
        <mat-card-actions
          *ngIf="actionButtons && formGroup!.dirty && formGroup!.valid"
          [@fadeInOnEnter]
        >
          <button
            mat-raised-button
            color="primary"
            matTooltip="Submit Form"
            matTooltipPosition="below"
            (click)="submit(options.formName!, formGroup!.value)"
            type="button"
          >
            Submit
          </button>
          <button
            mat-raised-button
            matTooltip="Reset Form"
            matTooltipPosition="below"
            (click)="formGroup!.reset()"
            type="button"
          >
            Reset
          </button>
        </mat-card-actions>
      </mat-card>
    </ng-container>
  </ng-container>
</ng-container>
